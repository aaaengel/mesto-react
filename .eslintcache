[{"C:\\Users\\user\\Desktop\\mesto-react\\src\\index.js":"1","C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\App.js":"2","C:\\Users\\user\\Desktop\\mesto-react\\src\\reportWebVitals.js":"3","C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\popupWithForm.js":"4","C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\Header.js":"5","C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\Main.js":"6","C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\Footer.js":"7","C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\Card.js":"8","C:\\Users\\user\\Desktop\\mesto-react\\src\\utils\\api.js":"9","C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\PopupWithForm.js":"10","C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\ImagePopup.js":"11","C:\\Users\\user\\Desktop\\mesto-react\\src\\contexts\\CurrentUserContext.js":"12","C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\EditProfilePopup.js":"13","C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\EditAvatarPopup.js":"14","C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\AddPlacePopup.js":"15","C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\Register.js":"16","C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\auth.js":"17","C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\Login.js":"18","C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\ProtectedRouter.js":"19","C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\InfoTooltip.js":"20"},{"size":628,"mtime":1613226015158,"results":"21","hashOfConfig":"22"},{"size":6586,"mtime":1613321105207,"results":"23","hashOfConfig":"22"},{"size":362,"mtime":499162500000,"results":"24","hashOfConfig":"22"},{"size":925,"mtime":1607283728813,"results":"25","hashOfConfig":"22"},{"size":1024,"mtime":1613220890832,"results":"26","hashOfConfig":"22"},{"size":2087,"mtime":1608384612835,"results":"27","hashOfConfig":"22"},{"size":210,"mtime":1607350418712,"results":"28","hashOfConfig":"22"},{"size":1937,"mtime":1608396051320,"results":"29","hashOfConfig":"22"},{"size":3127,"mtime":1613056276534,"results":"30","hashOfConfig":"22"},{"size":928,"mtime":1608320217517,"results":"31","hashOfConfig":"22"},{"size":732,"mtime":1608396282672,"results":"32","hashOfConfig":"22"},{"size":120,"mtime":1612978355219,"results":"33","hashOfConfig":"22"},{"size":1660,"mtime":1608320159663,"results":"34","hashOfConfig":"22"},{"size":850,"mtime":1608382410691,"results":"35","hashOfConfig":"22"},{"size":1203,"mtime":1608385782800,"results":"36","hashOfConfig":"22"},{"size":2338,"mtime":1613321113576,"results":"37","hashOfConfig":"22"},{"size":1188,"mtime":1613225532169,"results":"38","hashOfConfig":"22"},{"size":1981,"mtime":1613225512213,"results":"39","hashOfConfig":"22"},{"size":330,"mtime":1612962607989,"results":"40","hashOfConfig":"22"},{"size":641,"mtime":1613321990707,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"ug2pd1",{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"44"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"C:\\Users\\user\\Desktop\\mesto-react\\src\\index.js",[],["85","86"],"C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\App.js",["87","88"],"import React from \"react\";\nimport { BrowserRouter, Route, Switch, Redirect, withRouter, useHistory} from 'react-router-dom';\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport Register from './Register';\nimport Login from \"./Login\";\nimport ProtectedRouter from \"./ProtectedRouter\";\nimport InfoToolTip from \"./InfoTooltip\"\nimport * as auth from './auth.js';\nimport success from \"../images/Union.svg\"\nimport error from \"../images/UnionError.svg\"\nimport loading from \"../images/loading.png\"\nfunction App() {\n    const [currentUser, setCurrentUser] = React.useState({})  \n    const [selectedCard, setSelectedCard] = React.useState(false);\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [loggedIn, setState] = React.useState(false)  \n    const [toolTipStat, setToolTipStat] = React.useState({\n      iconStatus: loading,\n      text: 'Загрузка...',\n    });\n    const [isInfoToolTipPopupOpen, setIsInfoToolTipPopupOpen] = React.useState(false);\n    const history = useHistory();\n    React.useEffect(() => {\n        api\n          .getAny(\"users/me\")\n          .then((res) => {\n            setCurrentUser(res);\n          })\n          .catch((err) =>\n            console.log(`Ошибка при загрузке информации о пользователе: ${err}`)\n          );\n      }, []);\n      \n      function handleUpdateUser(userData){\n        api.patch(\"users/me\", userData)\n        .then((newUser) => setCurrentUser(newUser))\n      .catch((err) => `Ошибка при обновлении информации о пользователе: ${err}`)\n      closeAllPopups();\n      }\n    function handleEditAvatarClick(){\n        setIsEditAvatarPopupOpen(true)\n     }\n     function handleEditProfileClick(){\n        setIsEditProfilePopupOpen(true) \n     }\n     function handleAddPlaceClick(){\n        setIsAddPlacePopupOpen(true)\n     }\n     function closeAllPopups(){\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setSelectedCard(false);\n        setIsInfoToolTipPopupOpen(false);\n     }\n     function handleCardClick(card){\n        setSelectedCard(card);\n     }\n     function handleUpdateAvatar(userData){\n      api.patchAvatar(\"users/me/avatar\", userData).then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => `Ошибка при обновлении Аватара: ${err}`)\n      closeAllPopups();\n     }\n     function handleTokenCheck(){\n      if (localStorage.getItem('jwt')){\n      const jwt = localStorage.getItem('jwt');\n      auth.checkToken(jwt).then((res) => {\n      if (res){\n          setState({\n            loggedIn: true,\n            }) \n            history.push(\"/\");\n          }}); \n        }\n    }\n    React.useEffect(() =>{\n      handleTokenCheck();\n    }, [])\n     const [cards, addCards] = React.useState([]);\n  React.useEffect(()=>{\n    api.getAny(\"cards\")\n    .then((res) => {\n        addCards(res.map(item => ({\n          _id: item._id,\n          likes: item.likes,\n          name: item.name,\n          link: item.link,\n          owner: item.owner\n        }\n        )));\n      }).catch(err => console.log(err))\n  },[])\nfunction handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked).then((item) => {\n        const newCard = {\n            _id: item._id,\n            likes: item.likes,\n            name: item.name,\n            link: item.link,\n            owner: item.owner\n        }\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        addCards(newCards);\n    })\n    .catch(err => console.log(err))\n} \nfunction handleCardDelete(card){\n    api.delete(`cards/${card._id}`)\n    .then(() => {\n        const newCards = cards.filter(item => item._id !== card._id);\n        addCards(newCards)\n    }).catch(err => console.log(err))\n}\n\nfunction handleAddPlaceSubmit(userData){\n        api.post(\"cards\", userData)\n        .then(newCard =>addCards([newCard, ...cards]))\n        .catch(err => console.log(err))\n        closeAllPopups();\n}\nfunction notify(){\n  setToolTipStat({ iconStatus: success, text: 'Регистрация прошла успешно!' });\n}\nfunction registerError(){\n  setToolTipStat({ iconStatus: error, text: \"Что-то пошло не так! Попробуйте ещё раз\"});\n}\nfunction handleLogin (){\n  setState({\n    loggedIn: true\n  })\n}\n    return (\n      <BrowserRouter>\n      <Switch>\n      <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <InfoToolTip onClose={closeAllPopups} status={toolTipStat} isOpen={isInfoToolTipPopupOpen} />\n        <Route path=\"/sign-up\">\n              <Register notify={notify} error={registerError} isOpen={setIsInfoToolTipPopupOpen} />\n            </Route>\n            <Route path=\"/sign-in\">\n              <Login handleLogin={handleLogin} history={history} />\n            </Route>\n            <Route exact path=\"/\">\n              <ProtectedRouter loggedIn={loggedIn} component={Main} cards={cards} handleCardLike={handleCardLike} handleCardDelete={handleCardDelete} onEditProfile={handleEditProfileClick} onEditAvatar={handleEditAvatarClick} onAddPlace={handleAddPlaceClick}  onCardClick={handleCardClick}/>\n              <Footer />\n              <EditProfilePopup onClose={closeAllPopups} isOpen={isEditProfilePopupOpen} onUpdateUser={handleUpdateUser} />\n              <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n              <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n              <PopupWithForm name=\"confirm\" title=\"Вы уверены?\" />\n              <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n            </Route>\n        </div>\n   </CurrentUserContext.Provider>\n   </Switch>\n   </BrowserRouter>\n   );\n}\n\nexport default withRouter(App);\n","C:\\Users\\user\\Desktop\\mesto-react\\src\\reportWebVitals.js",[],"C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\popupWithForm.js",[],"C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\Header.js",[],"C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\Main.js",[],"C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\Footer.js",[],"C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\Card.js",[],["89","90"],"C:\\Users\\user\\Desktop\\mesto-react\\src\\utils\\api.js",[],"C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\PopupWithForm.js",[],"C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\ImagePopup.js",[],"C:\\Users\\user\\Desktop\\mesto-react\\src\\contexts\\CurrentUserContext.js",[],"C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\EditProfilePopup.js",[],"C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\EditAvatarPopup.js",[],"C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\AddPlacePopup.js",[],"C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\Register.js",[],"C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\auth.js",[],"C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\Login.js",[],"C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\ProtectedRouter.js",[],"C:\\Users\\user\\Desktop\\mesto-react\\src\\components\\InfoTooltip.js",[],{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","severity":1,"message":"96","line":2,"column":40,"nodeType":"97","messageId":"98","endLine":2,"endColumn":48},{"ruleId":"99","severity":1,"message":"100","line":92,"column":8,"nodeType":"101","endLine":92,"endColumn":10,"suggestions":"102"},{"ruleId":"91","replacedBy":"103"},{"ruleId":"93","replacedBy":"104"},"no-native-reassign",["105"],"no-negated-in-lhs",["106"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'handleTokenCheck'. Either include it or remove the dependency array.","ArrayExpression",["107"],["105"],["106"],"no-global-assign","no-unsafe-negation",{"desc":"108","fix":"109"},"Update the dependencies array to be: [handleTokenCheck]",{"range":"110","text":"111"},[3293,3295],"[handleTokenCheck]"]